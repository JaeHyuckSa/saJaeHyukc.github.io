---
layout: post
title: 2022-11-25 금요일 TIL (ERD Cloud User model 설계)
date: 2022-11-25 00:00:00 +0900
categories: [스파르타 내일배움캠프]
tags: [내일배움캠프, 스파르타코딩클럽, 코딩]
description: 스파르타 코딩클럽의 내일배움캠프 TIL입니다.
toc: true
math: true
mermaid: true
image: /assets/img/post_img/sparta_coding_fix_img/sparta_coding_club.png
---
### 1. 어떤 문제가 있었는지

오늘 user 모델을 구체적으로 작성했다. 앞으로 구현하고 싶은 user기능들을 어떻게 로직을 구성할지 작성한다.

![1](/assets/img/post_img/2022-11-25/1.png)

### 2. 내가 뭘 몰랐는지 ( + 내가 했던 시도) -> 꼭 들어가야함 / 어떻게 해결했는지

1. 이메일 인증 → 이메일을 적고 시크릿키(만료일 존재)를 전송하여  인증을 해야함. 인증이 되지 않았을 시 user모델 enabled를 0으로 바꿈
2. 휴대폰 인증 → 휴대폰 번호를 적고 인증번호를 랜덤한 숫자를 정의한 후 서버에 auth token(만료시간 존재)과 sms 인증번호와 일치할 시 enabled를 1로 바꿈 (안될 시 0으로) 
3. 로그 기록 → 로그인을 했던 시간을 저장한다.
4. 회원 권한 → 회원 권한으로 관리자인지 일반 유저인지 특정을 지어 관리할 수 있게 한다. choice를 사용할 것
5. 비밀번호 만료 → 비밀번호 마지막 변경일로 특정시간이 지나서 만료가 되었을 때 1로 바뀌게 되고 비밀번호 재설정할 수 있게 유도
6. 회원 관리 → 회원이 차단할 수 있도록 설정가능
7. 소셜로그인 → 소셜로그인으로 토큰을 받아서 저장을 하고 provider로 어느 플랫폼인지 확인을 한다
8. 계정 잠금 → 특정 시도를 몇번할 시 0에서 1로 바꾼다
9. 회원 비활성화 → 회원 비활성화를 할 경우 0에서 1로 바꾼다
10. 계정 보유기간 → 계정 비활성화를 기준으로 특정시간이 지날 시 개인정보 삭제 하지만 게시글들은 익명으로 처리

일단 생각나는 것들은 이정도 이다. 

### 3. 뭘 알았는지 -> 꼭 들어가야함

실서비스에서 사용하는 erd를 보고 user부분을 작성할 수 있어서 좋았다. 조금 더 고안을 하여 구현할 수 있도록 만들자